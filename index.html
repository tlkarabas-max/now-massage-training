<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Schedule Optimization Training (Upgraded)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; background: #f8f9fd; margin: 0; }
    .container { max-width: 1200px; margin: 40px auto; background: #fff; border-radius: 10px; box-shadow: 0 2px 10px #eee; padding: 32px; }
    h1 { color: #6170f7; font-size: 2.8rem; margin-bottom: 0.5rem; }
    .subtitle { color: #333; font-size: 1.2rem; margin-bottom: 2rem; }
    .tabs { display: flex; border-bottom: 2px solid #e3e6ef; margin-bottom: 2rem; }
    .tab { padding: 16px 32px; cursor: pointer; font-size: 1.1rem; color: #444; border: none; background: none; outline: none; }
    .tab.active { color: #6170f7; font-weight: bold; border-bottom: 3px solid #6170f7; }
    .tab:not(.active):hover { color: #6170f7; background: #eaf0ff; }
    .section { display: none; }
    .section.active { display: block; }
    .block-table { border-collapse: collapse; width: 100%; margin-top: 1.5rem; }
    .block-table th, .block-table td { border: 1px solid #e3e6ef; padding: 10px; text-align: left; }
    .block-table th { background: #6170f7; color: #fff; }
    .block-table td.color { width: 60px; text-align: center; font-weight: bold; border-right: 8px solid #fff; }
    .color-purple { background: #c39bd3; }
    .color-grey { background: #d5d8dc; }
    .color-red { background: #f1948a; }
    .color-pink { background: #f7cac9; }
    .script-box { background: #f2f3f8; padding: 16px; border-radius: 8px; margin-bottom: 1rem; }
    .script-label { font-weight: bold; color: #6170f7; }
    .progress-table { border-collapse: collapse; width: 100%; margin-top: 1rem; }
    .progress-table th, .progress-table td { border: 1px solid #e3e6ef; padding: 10px; text-align: left; }
    .progress-table th { background: #6170f7; color: #fff; }
    .notes-area { width: 100%; height: 80px; border-radius: 6px; border: 1px solid #e3e6ef; margin-top: 8px; padding: 8px; font-size: 1rem; }
    @media (max-width: 900px) {
      .container { padding: 12px; }
      .tabs { flex-direction: column; }
      .tab { padding: 12px 16px; }
    }
    #simulator-form, #scenarios-form { margin: 1.5rem 0; }
    #simulator-form label, #scenarios-form label { margin-right: 8px; }
    #simulator-form select, #scenarios-form select { margin-right: 16px; font-size: 1rem; padding: 6px 10px; border-radius: 5px; border: 1px solid #e3e6ef; }
    #simulator-form button, #scenarios-form button { font-size: 1rem; }
    .simulator-metrics { display: flex; gap: 32px; margin: 1.5rem 0 1rem 0; }
    .sim-metric { background: #f2f3f8; border-radius: 8px; padding: 16px 24px; text-align: center; min-width: 120px; }
    .sim-metric-value { font-size: 2rem; color: #6170f7; font-weight: bold; }
    .sim-metric-label { font-size: 1.1rem; color: #555; }
    .simulator-actions { margin-bottom: 1rem; }
    .simulator-actions button { margin-right: 8px; padding: 8px 18px; border-radius: 6px; border: none; font-size: 1rem; color: #6170f7; background: #f2f3f8; font-weight: bold; }
    .simulator-actions button.active, .simulator-actions button:active { background: #dbe5ff; }
    .simulator-actions button:disabled { color: #bbb; background: #f9f9f9; }
    .schedule-table { border-collapse: collapse; width: 100%; margin-top: 1rem; }
    .schedule-table th, .schedule-table td { border: 1px solid #e3e6ef; padding: 10px; text-align: center; }
    .schedule-table th { background: #6170f7; color: #fff; }
    .schedule-block-open { background: #d5f5e3; }
    .schedule-block-gap { background: #fcf3cf; color: #b7950b; font-weight: bold; }
    .schedule-block-callout { background: #f5b7b1; color: #c0392b; font-weight: bold; }
    .schedule-block-lunch { background: #d5d8dc; color: #636e72; font-weight: bold; }
    .schedule-block-session { background: #d6eaf8; color: #1f618d; }
    .schedule-block { border-radius: 6px; padding: 8px 0; }
    .scenario-desc { background: #f2f3f8; border-radius: 8px; padding: 16px 24px; margin-top: 1rem; margin-bottom: 1rem; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Schedule Optimization Training (Upgraded)</h1>
    <div class="subtitle">Master the art of maximizing revenue through smart scheduling</div>
    <div class="tabs">
      <button class="tab active" onclick="showSection('overview')">Overview</button>
      <button class="tab" onclick="showSection('simulator')">Schedule Simulator</button>
      <button class="tab" onclick="showSection('calculator')">Revenue Calculator</button>
      <button class="tab" onclick="showSection('scenarios')">Practice Scenarios</button>
      <button class="tab" onclick="showSection('quiz')">Knowledge Quiz</button>
      <button class="tab" onclick="showSection('scripts')">Script Templates</button>
      <button class="tab" onclick="showSection('progress')">Progress Tracker</button>
      <button class="tab" onclick="showSection('blocks')">Scheduling Blocks Guide</button>
    </div>

    <!-- Overview Section -->
    <div id="overview" class="section active">
      <h2>Welcome to Schedule Optimization Training!</h2>
      <p>
        This platform will help you master scheduling logic, maximize therapist utilization, and optimize boutique revenue using industry best practices and Zenoti Scheduling Blocks.<br>
        <ul>
          <li>Practice making smart scheduling decisions</li>
          <li>Learn block types, color codes, and utilization rules</li>
          <li>Access script templates for guest communications</li>
          <li>Track your progress and quiz yourself</li>
        </ul>
      </p>
      <p>
        <strong>Start by exploring the tabs above!</strong>
      </p>
    </div>

    <!-- Schedule Simulator Section -->
    <div id="simulator" class="section">
      <h2>Schedule Simulator</h2>
      <form id="simulator-form">
        <label for="sim-day-sim">Select Day:</label>
        <select id="sim-day-sim" name="sim-day-sim" onchange="updateScenarioOptionsSim()">
          <option>Sunday</option>
          <option>Monday</option>
          <option>Tuesday</option>
          <option>Wednesday</option>
          <option>Thursday</option>
          <option>Friday</option>
          <option>Saturday</option>
        </select>
        <label for="sim-scenario-sim">Scenario:</label>
        <select id="sim-scenario-sim" name="sim-scenario-sim" onchange="updateScheduleTableSim()">
          <!-- Scenario options will update based on selected day -->
        </select>
        <button type="button" onclick="updateScheduleTableSim()">Load</button>
        <button type="reset" onclick="clearScheduleSim()">Clear</button>
      </form>
      <div class="simulator-metrics">
        <div class="sim-metric"><div class="sim-metric-value" id="moves-count">0</div><div class="sim-metric-label">Moves</div></div>
        <div class="sim-metric"><div class="sim-metric-value" id="gaps-count">0</div><div class="sim-metric-label">Gaps Fixed</div></div>
        <div class="sim-metric"><div class="sim-metric-value" id="rev-saved">$0</div><div class="sim-metric-label">Revenue Saved</div></div>
        <div class="sim-metric"><div class="sim-metric-value" id="rev-lost">$0</div><div class="sim-metric-label">Revenue Lost</div></div>
        <div class="sim-metric"><div class="sim-metric-value" id="grade">-</div><div class="sim-metric-label">Grade</div></div>
      </div>
      <div id="schedule-table-wrapper"></div>
    </div>

    <!-- Revenue Calculator -->
    <div id="calculator" class="section">
      <h2>Revenue Calculator</h2>
      <p>
        <em>Estimate your boutique's revenue based on scheduled service hours, utilization rates, and block types.</em>
      </p>
      <div style="margin: 2rem 0; color: #999;">[Revenue calculator coming soon: input schedule, see estimated revenue and impact of block placement.]</div>
      <ul>
        <li>Input number of sessions, gaps, RED blocks, and utilization rate</li>
        <li>Calculate estimated revenue</li>
        <li>See recommendations to optimize scheduling</li>
      </ul>
    </div>

    <!-- Practice Scenarios Section -->
    <div id="scenarios" class="section">
      <h2>Practice Scenarios</h2>
      <form id="scenarios-form">
        <label for="sim-day-prac">Day:</label>
        <select id="sim-day-prac" name="sim-day-prac" onchange="updateScenarioOptionsPrac()">
          <option>Sunday</option>
          <option>Monday</option>
          <option>Tuesday</option>
          <option>Wednesday</option>
          <option>Thursday</option>
          <option>Friday</option>
          <option>Saturday</option>
        </select>
        <label for="sim-scenario-prac">Scenario:</label>
        <select id="sim-scenario-prac" name="sim-scenario-prac" onchange="updateScenarioDescriptionPrac()">
          <!-- Scenario options will update based on selected day -->
        </select>
        <button type="button" onclick="updateScenarioDescriptionPrac()">Load Scenario</button>
      </form>
      <div id="scenario-description-prac"></div>
      <div id="scenario-schedule-table-prac"></div>
    </div>

    <!-- Knowledge Quiz -->
    <div id="quiz" class="section">
      <h2>Knowledge Quiz</h2>
      <p>
        <strong>[Your knowledge quiz goes here]</strong>
      </p>
    </div>

    <!-- Script Templates -->
    <div id="scripts" class="section">
      <h2>Script Templates</h2>
      <p>
        <strong>[Your script templates go here]</strong>
      </p>
    </div>

    <!-- Progress Tracker -->
    <div id="progress" class="section">
      <h2>Progress Tracker</h2>
      <p>
        <strong>[Your progress tracking dashboard goes here]</strong>
      </p>
    </div>

    <!-- Scheduling Blocks Guide -->
    <div id="blocks" class="section">
      <h2>Zenoti Scheduling Blocks Reference Guide</h2>
      <table class="block-table">
        <tr>
          <th>Color</th>
          <th>Reason</th>
          <th>Definition</th>
          <th>Included in Scheduled Service Hours?</th>
        </tr>
        <tr>
          <td class="color color-purple">Purple</td>
          <td>BREAK</td>
          <td>Required PAID break for employees, mandated by labor laws and company policy.</td>
          <td>No</td>
        </tr>
        <tr>
          <td class="color color-grey">Grey</td>
          <td>LUNCH</td>
          <td>Designated 30-minute UNPAID meal break, scheduled midway through shift.</td>
          <td>No</td>
        </tr>
        <tr>
          <td class="color color-grey">Grey</td>
          <td>PERSONAL TIME</td>
          <td>Pre-approved UNPAID time off for personal matters (appointments, errands, family).</td>
          <td>No</td>
        </tr>
        <tr>
          <td class="color color-purple">Purple</td>
          <td>PTO (Paid Time Off)</td>
          <td>Approved paid time off (vacations, mental health, personal days).</td>
          <td>No</td>
        </tr>
        <tr>
          <td class="color color-purple">Purple</td>
          <td>ADMIN</td>
          <td>Reserved time for administrative duties assigned to MT Leads.</td>
          <td>No</td>
        </tr>
        <tr>
          <td class="color color-purple">Purple</td>
          <td>SOAP NOTES</td>
          <td>Time for MTs to update SOAP notes (where required).</td>
          <td>No</td>
        </tr>
        <tr>
          <td class="color color-purple">Purple</td>
          <td>MEETING</td>
          <td>Reserved, PAID time for team or individual meetings. MT not available for services.</td>
          <td>No</td>
        </tr>
        <tr>
          <td class="color color-purple">Purple</td>
          <td>TRAINING</td>
          <td>PAID reserved time for training sessions or workshops.</td>
          <td>No</td>
        </tr>
        <tr>
          <td class="color color-purple">Purple</td>
          <td>OFFSITE EVENT</td>
          <td>PAID time scheduled for special events outside the boutique (pop-ups, school events).</td>
          <td>No</td>
        </tr>
        <tr>
          <td class="color color-purple">Purple</td>
          <td>BOUTIQUE CLOSURE</td>
          <td>Indicates boutique will be closed or closing early (emergency, maintenance, weather, team events).</td>
          <td>No</td>
        </tr>
        <tr>
          <td class="color color-red">Red</td>
          <td>LEAVING EARLY</td>
          <td>Early departure from scheduled shift, recorded on schedule (UNPAID).</td>
          <td>Yes</td>
        </tr>
        <tr>
          <td class="color color-red">Red</td>
          <td>RUNNING LATE</td>
          <td>MT will arrive late for scheduled shift, noted on schedule (UNPAID).</td>
          <td>Yes</td>
        </tr>
        <tr>
          <td class="color color-red">Red</td>
          <td>CALL-OUT</td>
          <td>Unplanned absence from work (illness, emergency, no-show, childcare, car trouble).</td>
          <td>Yes</td>
        </tr>
        <tr>
          <td class="color color-red">Red</td>
          <td>SHIFT ADJUSTMENT</td>
          <td>Manager-directed change: MT is informed not to report for their scheduled shift.</td>
          <td>Yes</td>
        </tr>
        <tr>
          <td class="color color-pink">Pink</td>
          <td>TEMP HOLD</td>
          <td>Temporary block for schedule adjustments or awaiting guest confirmation.</td>
          <td>Yes</td>
        </tr>
      </table>
      <div style="margin-top: 2rem;">
        <strong>Special Leave Types:</strong> <em>(Applied by Leadership, Excluded from Scheduled Service Hours)</em>
        <ul>
          <li><strong>Personal Leave:</strong> Extended time off, FMLA, injury leave, other approved absences.</li>
          <li><strong>Special Leave:</strong> Used for suspensions, active investigations, or medical treatment.</li>
        </ul>
      </div>
      <div style="margin-top: 2rem; color: #c0392b;">
        <strong>Tip:</strong> Seeing a lot of <strong>RED</strong> blocks? Notify a managerâ€”coverage may be needed to meet guest demand and maintain operational efficiency.
      </div>
    </div>
  </div>
  <script>
    // -------- Tab navigation --------
    function showSection(id) {
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      let index = {
        overview:0, simulator:1, calculator:2, scenarios:3, quiz:4, scripts:5, progress:6, blocks:7
      }[id];
      document.querySelectorAll('.tab')[index].classList.add('active');
    }

    // -------- Scenarios data --------
    const scenariosByDay = {
      "Sunday": [
        "Sunday Morning: Call-Out Recovery",
        "Sunday Afternoon: Gap Reduction",
        "Sunday Full Day: Lunch Optimization"
      ],
      "Monday": [
        "Monday Morning: Call-Out Recovery",
        "Monday Afternoon: Gap Reduction",
        "Monday Full Day: Lunch Optimization"
      ],
      "Tuesday": [
        "Tuesday Morning: Call-Out Recovery",
        "Tuesday Afternoon: Gap Reduction",
        "Tuesday Full Day: Lunch Optimization"
      ],
      "Wednesday": [
        "Wednesday Morning: Call-Out Recovery",
        "Wednesday Afternoon: Gap Reduction",
        "Wednesday Full Day: Lunch Optimization"
      ],
      "Thursday": [
        "Thursday Morning: Call-Out Recovery",
        "Thursday Afternoon: Gap Reduction",
        "Thursday Full Day: Lunch Optimization"
      ],
      "Friday": [
        "Friday Morning: Call-Out Recovery",
        "Friday Afternoon: Gap Reduction",
        "Friday Full Day: Lunch Optimization"
      ],
      "Saturday": [
        "Saturday Morning: Call-Out Recovery",
        "Saturday Afternoon: Gap Reduction",
        "Saturday Full Day: Lunch Optimization"
      ]
    };

    // Scenario Descriptions
    const scenarioDescriptions = {
      "Morning: Call-Out Recovery": `
        <div class="scenario-desc">
          <strong>MT2 called out sick. Redistribute appointments to minimize gaps.</strong><br>
          <strong>Optimal Solution:</strong>
          <ul>
            <li>Move appointments from MT2 to open slots</li>
            <li>Fill gaps</li>
          </ul>
          <strong>Avoid:</strong>
          <ul>
            <li>Leaving gaps</li>
            <li>Unused open slots</li>
          </ul>
        </div>
      `,
      "Afternoon: Gap Reduction": `
        <div class="scenario-desc">
          <strong>Multiple gaps in the afternoon. Optimize therapist schedules to avoid idle time.</strong><br>
          <strong>Optimal Solution:</strong>
          <ul>
            <li>Identify gaps</li>
            <li>Reassign appointments to fill gaps</li>
          </ul>
          <strong>Avoid:</strong>
          <ul>
            <li>Idle therapists</li>
          </ul>
        </div>
      `,
      "Full Day: Lunch Optimization": `
        <div class="scenario-desc">
          <strong>Ensure therapists are available during busy periods. Adjust lunch breaks to keep coverage steady.</strong><br>
          <strong>Optimal Solution:</strong>
          <ul>
            <li>Stagger lunch break schedules</li>
            <li>Maximize coverage during peak hours</li>
          </ul>
        </div>
      `
    };

    // Sample schedule tables for scenarios (can be expanded later)
    const sampleSchedules = {
      "Morning: Call-Out Recovery": [
        ["09:00 AM", "50m", "Call-out", "OPEN", "80m"],
        ["09:30 AM", "GAP", "Call-out", "50m", "OPEN"],
        ["10:00 AM", "80m", "Call-out", "GAP", "OPEN"],
        ["10:30 AM", "OPEN", "Call-out", "Lunch", "OPEN"],
        ["11:00 AM", "Lunch", "Call-out", "OPEN", "Lunch"],
        ["11:30 AM", "50m", "Call-out", "80m", "50m"],
      ],
      "Afternoon: Gap Reduction": [
        ["12:00 PM", "OPEN", "GAP", "80m", "OPEN"],
        ["12:30 PM", "80m", "OPEN", "GAP", "OPEN"],
        ["01:00 PM", "OPEN", "80m", "GAP", "OPEN"],
        ["01:30 PM", "Lunch", "OPEN", "GAP", "Lunch"],
        ["02:00 PM", "OPEN", "OPEN", "OPEN", "OPEN"],
        ["02:30 PM", "50m", "OPEN", "80m", "50m"],
      ],
      "Full Day: Lunch Optimization": [
        ["09:00 AM", "80m", "OPEN", "OPEN", "80m"],
        ["09:30 AM", "OPEN", "80m", "OPEN", "OPEN"],
        ["10:00 AM", "OPEN", "OPEN", "80m", "OPEN"],
        ["10:30 AM", "Lunch", "OPEN", "OPEN", "Lunch"],
        ["11:00 AM", "OPEN", "Lunch", "Lunch", "OPEN"],
        ["11:30 AM", "80m", "80m", "80m", "80m"],
        ["12:00 PM", "OPEN", "OPEN", "OPEN", "OPEN"],
        ["12:30 PM", "80m", "80m", "80m", "80m"],
        ["01:00 PM", "OPEN", "OPEN", "OPEN", "OPEN"],
        ["01:30 PM", "Lunch", "Lunch", "Lunch", "Lunch"],
        ["02:00 PM", "OPEN", "OPEN", "OPEN", "OPEN"],
        ["02:30 PM", "80m", "80m", "80m", "80m"],
        ["03:00 PM", "OPEN", "OPEN", "OPEN", "OPEN"],
        ["03:30 PM", "80m", "80m", "80m", "80m"],
        ["04:00 PM", "OPEN", "OPEN", "OPEN", "OPEN"],
        ["04:30 PM", "Lunch", "Lunch", "Lunch", "Lunch"],
        ["05:00 PM", "OPEN", "OPEN", "OPEN", "OPEN"],
        ["05:30 PM", "80m", "80m", "80m", "80m"],
        ["06:00 PM", "OPEN", "OPEN", "OPEN", "OPEN"],
        ["06:30 PM", "80m", "80m", "80m", "80m"],
      ]
    };

    // Therapists for table headers
    const therapistLabels = ["MT1", "MT2", "MT3", "MT4"];

    // -------- Schedule Simulator logic --------
    function updateScenarioOptionsSim() {
      const daySelect = document.getElementById('sim-day-sim');
      const scenarioSelect = document.getElementById('sim-scenario-sim');
      const selectedDay = daySelect.value;
      scenarioSelect.innerHTML = "";
      (scenariosByDay[selectedDay] || []).forEach(function(scenario) {
        const option = document.createElement('option');
        option.value = scenario;
        option.textContent = scenario;
        scenarioSelect.appendChild(option);
      });
      updateScheduleTableSim();
    }
    function updateScheduleTableSim() {
      // Demo only: update metrics
      document.getElementById('moves-count').textContent = Math.floor(Math.random() * 10);
      document.getElementById('gaps-count').textContent = Math.floor(Math.random() * 25);
      document.getElementById('rev-saved').textContent = "$" + (Math.floor(Math.random() * 2000) + 500);
      document.getElementById('rev-lost').textContent = "$" + (Math.floor(Math.random() * 4000));
      document.getElementById('grade').textContent = ["A", "B", "C"][Math.floor(Math.random() * 3)];

      const scenarioSelect = document.getElementById('sim-scenario-sim');
      const selectedScenario = scenarioSelect.value || "";
      let displayKey = "";
      if (selectedScenario.includes("Morning")) displayKey = "Morning: Call-Out Recovery";
      else if (selectedScenario.includes("Afternoon")) displayKey = "Afternoon: Gap Reduction";
      else if (selectedScenario.includes("Full Day")) displayKey = "Full Day: Lunch Optimization";
      else displayKey = "Morning: Call-Out Recovery";
      const schedule = sampleSchedules[displayKey] || [];
      let table = '<table class="schedule-table"><tr><th>Time</th>';
      therapistLabels.forEach(label => table += `<th>${label}</th>`);
      table += '</tr>';
      schedule.forEach(row => {
        table += '<tr>';
        row.forEach((cell, idx) => {
          if (idx === 0) {
            table += `<td>${cell}</td>`;
          } else {
            let blockClass = 'schedule-block';
            if (cell === "OPEN") blockClass += " schedule-block-open";
            else if (cell === "GAP") blockClass += " schedule-block-gap";
            else if (cell === "Call-out") blockClass += " schedule-block-callout";
            else if (cell === "Lunch") blockClass += " schedule-block-lunch";
            else if (cell.endsWith("m")) blockClass += " schedule-block-session";
            else blockClass += " schedule-block-open";
            table += `<td class="${blockClass}">${cell}</td>`;
          }
        });
        table += '</tr>';
      });
      table += '</table>';
      document.getElementById('schedule-table-wrapper').innerHTML = table;
    }
    function clearScheduleSim() {
      document.getElementById('schedule-table-wrapper').innerHTML = "";
      document.getElementById('moves-count').textContent = "0";
      document.getElementById('gaps-count').textContent = "0";
      document.getElementById('rev-saved').textContent = "$0";
      document.getElementById('rev-lost').textContent = "$0";
      document.getElementById('grade').textContent = "-";
    }

    // -------- Practice Scenarios logic --------
    function updateScenarioOptionsPrac() {
      const daySelect = document.getElementById('sim-day-prac');
      const scenarioSelect = document.getElementById('sim-scenario-prac');
      const selectedDay = daySelect.value;
      scenarioSelect.innerHTML = "";
      (scenariosByDay[selectedDay] || []).forEach(function(scenario) {
        const option = document.createElement('option');
        option.value = scenario;
        option.textContent = scenario;
        scenarioSelect.appendChild(option);
      });
      updateScenarioDescriptionPrac();
    }
    function updateScenarioDescriptionPrac() {
      const scenarioSelect = document.getElementById('sim-scenario-prac');
      const selectedScenario = scenarioSelect.value || "";
      let key = "";
      if (selectedScenario.includes("Morning")) key = "Morning: Call-Out Recovery";
      else if (selectedScenario.includes("Afternoon")) key = "Afternoon: Gap Reduction";
      else if (selectedScenario.includes("Full Day")) key = "Full Day: Lunch Optimization";
      else key = "Morning: Call-Out Recovery";
      document.getElementById('scenario-description-prac').innerHTML =
        `<h3>${selectedScenario}</h3>${scenarioDescriptions[key] || ""}`;
      // Add schedule table for scenario
      const schedule = sampleSchedules[key] || [];
      let table = '<table class="schedule-table"><tr><th>Time</th>';
      therapistLabels.forEach(label => table += `<th>${label}</th>`);
      table += '</tr>';
      schedule.forEach(row => {
        table += '<tr>';
        row.forEach((cell, idx) => {
          if (idx === 0) {
            table += `<td>${cell}</td>`;
          } else {
            let blockClass = 'schedule-block';
            if (cell === "OPEN") blockClass += " schedule-block-open";
            else if (cell === "GAP") blockClass += " schedule-block-gap";
            else if (cell === "Call-out") blockClass += " schedule-block-callout";
            else if (cell === "Lunch") blockClass += " schedule-block-lunch";
            else if (cell.endsWith("m")) blockClass += " schedule-block-session";
            else blockClass += " schedule-block-open";
            table += `<td class="${blockClass}">${cell}</td>`;
          }
        });
        table += '</tr>';
      });
      table += '</table>';
      document.getElementById('scenario-schedule-table-prac').innerHTML = table;
    }

    // -------- Initialize dropdowns on page load --------
    document.addEventListener('DOMContentLoaded', function() {
      updateScenarioOptionsSim();
      updateScenarioOptionsPrac();
    });
  </script>
</body>
</html>
